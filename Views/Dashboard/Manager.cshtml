@{
    ViewData["Title"] = "Manager Dashboard";
    var communities = ViewBag.Communities as List<CommunalSystem.Models.Community>;
    var services = ViewBag.Services as List<CommunalSystem.Models.Service>;
    var message = ViewBag.Message ?? "Šis puslapis skirtas vadybininkui priskirti paslaugas ir nustatyti kainas.";
    <link href="~/css/styles.css" rel="stylesheet" />
}
<div class="dashboard-container">
    @if (TempData["Success"] != null)
    {
        <div class="success mt-4">@TempData["Success"]</div>
    }
    @if (TempData["Error"] != null)
    {
        <div class="error mt-4">@TempData["Error"]</div>
    }
    <h1 class="dashboard-header">Manager Dashboard</h1>
    <p class="text-gray-400 mb-6">@message</p>
    <div class="card">
        <h2 class="section-header">Assign Service</h2>
        <form method="post" action="@Url.Action("AssignService", "Dashboard")" class="space-y-4">
            <div class="form-group">
                <label class="form-label">Community:</label>
                <select name="communityId" class="form-input">
                    @foreach (var c in communities)
                    {
                        <option value="@c.Id">@c.Name</option>
                    }
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Service:</label>
                <select name="serviceId" class="form-input">
                    @foreach (var s in services)
                    {
                        <option value="@s.Id">@s.Name</option>
                    }
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Price:</label>
                <input type="number" step="0.01" name="price" class="form-input" />
            </div>
            <button type="submit" class="btn w-full">Assign</button>
        </form>
    </div>
</div>