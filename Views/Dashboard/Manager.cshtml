@{
    ViewData["Title"] = "Vadybininko Puslapis";
    var communities = ViewBag.Communities as List<CommunalSystem.Models.Community>;
    var services = ViewBag.Services as List<CommunalSystem.Models.Service>;
    var message = ViewBag.Message ?? "Šis puslapis skirtas vadybininkui priskirti paslaugas bendrijoms ir nustatyti kainas.";
    <link href="~/css/styles.css" rel="stylesheet" />
}

<div class="dashboard-container">
    @if (TempData["Success"] != null)
    {
        <div class="success">@TempData["Success"]</div>
    }
    @if (TempData["Error"] != null)
    {
        <div class="error">@TempData["Error"]</div>
    }

    <h1>Vadybininko Puslapis</h1>

    <form asp-controller="Account" asp-action="Logout" method="post">
        <button type="submit">Atsijungti</button>
    </form>

    <p>@message</p>

    <div class="card">
        <h2>Priskirti Paslaugą</h2>
        <form method="post" action="@Url.Action("AssignService", "Dashboard")">
            <div>
                <label>Bendrija:</label>
                <select name="communityId">
                    @foreach (var c in communities)
                    {
                        <option value="@c.Id">@c.Name</option>
                    }
                </select>
            </div>
            <div>
                <label>Paslauga:</label>
                <select name="serviceId">
                    @foreach (var s in services)
                    {
                        <option value="@s.Id">@s.Name</option>
                    }
                </select>
            </div>
            <div>
                <label>Kaina:</label>
                <input type="number" step="0.01" name="price" />
            </div>
            <button type="submit">Priskirti</button>
        </form>
    </div>
</div>
